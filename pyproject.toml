[tool.ruff]
line-length = 120
target-version = 'py310'
select = ["E", "F", "W", "I", "B"]
ignore = [
    "E203",  # 与 black 冲突
    "E501",  # 用黑格式化而不是手动控制换行
]

[tool.black]
line-length = 120
target-version = ['py38', 'py39', 'py310', 'py311']
include = '\.pyi?$'
extend-exclude = '''
/(
  # directories
  \.eggs
  | \.git
  | \.hg
  | \.mypy_cache
  | \.tox
  | \.venv
  | build
  | dist
)/
'''

[tool.mypy]
python_version = "3.11"
ignore_missing_imports = true
disallow_untyped_defs = true
pretty = true

[tool.isort]
profile = "black"
multi_line_output = 3
line_length = 88
known_first_party = ["utils", "evaluation", "applications", "dualmap"]
known_third_party = ["numpy", "torch", "open3d", "hydra", "omegaconf", "sklearn", "scipy", "open_clip"]

[tool.autopep8]
max_line_length = 88
aggressive = 1

[tool.pylint.messages_control]
disable = [
    "C0103",  # invalid-name
    "C0114",  # missing-module-docstring
    "C0115",  # missing-class-docstring
    "C0116",  # missing-function-docstring
    "C0303",  # trailing-whitespace
    "C0411",  # wrong-import-order
    "C0413",  # wrong-import-position
    "C0415",  # import-outside-toplevel
    "W0621",  # redefined-outer-name
    "W0718",  # broad-exception-caught
    "W1203",  # logging-fstring-interpolation
    "W1514",  # unspecified-encoding
    "R0914",  # too-many-locals
    "E1131",  # unsupported-binary-operation
]

[tool.pylint.format]
max-line-length = 110

[tool.pylint.typecheck]
extension-pkg-allow-list = ["cv2"]
